<!DOCTYPE html>
<html lang="en">

<head>

    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta name="description" content="Hunter College Media Studies">
    <meta name="author" content="Ricardo Miranda Zuniga">

    <link href="slideshow.css" rel="stylesheet" />

</head>

<body>

  <div class="slideshow-container">

    <section class="fade">
      <h1>Unity for VR</h1>
      <h2>XR Interaction Toolkit</h2>
      <p>VR and AR development has changed quickly over the past few years.  Two years ago basic interaction required a good deal more work and decision making than it currently does.  As Janet Murray emphasizes throughout <u>Hamlet on the Holodeck</u> <i>as technology advances and the programmers and engineers build tools that facilitate the creation of new computer-based experiences, mediamakers and artists are  without extensive programming skills can create new experiences and forms of storytelling.</i>  I wish that Unity's XR Interaction Toolkit had existed two years ago as countless hours of programming, problem solving and wiring would have been saved...</p>
      <p>An ideal way to jump in is to review the following pages:
        <!--<a href="https://learn.unity.com/tutorial/setting-up-a-vr-enabled-project-with-unity-and-the-xr-interaction-toolkit" target="_blank">Setting up a VR-Enabled Project with Unity and the XR Interaction Toolkit</a> that uses a prepared project:-->
        <a href="https://docs.unity3d.com/Manual/VROverview.html" target="_blank">Getting started with VR development in Unity</a><br />
        <a href="https://docs.unity3d.com/Manual/configuring-project-for-xr.html" target="_blank">Configuring your Unity Project for XR</a> (Check for the version you are using.)<br />
         <a href="https://github.com/Unity-Technologies/XR-Interaction-Toolkit-Examples" target="_blank">Unity-Technologies XR-Interaction-Toolkit-Examples</a><br />
       <a href="https://youtu.be/yxMzAw2Sg5w" target="_blank">How to Make VR Games in 2022 - Updated Unity VR Tutorial</a><br />
       <a href="https://youtu.be/zuXCzHI9ox0" target="_blank">The 5 Most Common Oculus Quest Unity Deployment Issues !</a>
     </p>
    </section>

    <section class="fade">
      <h1>Unity for VR</h1>
      <h2>XR Plug-in Management &amp; XR Interaction Toolkit</h2>
      <ul>
        <li>Create a duplicate of your project or save a back up on a drive</li>
        <li>Your Unity Editor Install will require the Android module as Oculus runs on Android.  Other headsets will require the Windows module.</li>
        <li>Install XR Plugin Management from either Project Settings or Package Manager</li>
      </ul>
      <h3>Install via the Project Settings</h3>
          <ul>
            <li>Go to Edit > Project Settings > XR Plug-in Management (last settings column)</li>
            <li>Click Install XR Plugin Management</li>
            <li>Once XR Plug-in Management is installed, select it again in left column.  Select Windows tab and install Open XR.  The new input systemt will require the project to close and reload</li>
            <li>When it reopens, in the Project Settings window, under XR Plug-in Management, Open XR should be available and the package downloaded and imported into the project</li>
            <li>Check on OpenXR (if not already checked), if there are incompatabilities there will be a red button with exclamation, click it to open OpenXR Project Validation and Fix All.  OpenXR requires an interaction profile - this is the build platform, in this case Oculus.</li>
            <li>In the Project Settings left column select OpenXR (parented to XR Plug-in Management)</li>
            <li>Add Interaction Profile - do this for both Windows tab and Android tab:<br />
            Under Interactions Profile click the + icon on the right and select Oculus Touch Controller Profile</li>
            <li>Android tab (with OpenXR selected in left column) - Render Mode: Multi Pass - renders scene for each eye, requires greater processing but the presentation is much better.  (Same for Windows if targeting a Windows device.)</li>
            <li>Close Project Settings and in Assets panel project will have a new XR folder.</li>
            <li>Adding XR Interaction Toolkit (current version 2.0.1)</li>
            <li>In the Package Manager window, select Packages: Unity Registry (top left) and scroll down to find XR Interaction Toolkit.  If it is not available, click the cog icon next to the search field and select "Advanced Project Settings" that will open the Project Settings > Package Manager > Advanced Settings and click on Enable Preview Packages.  Close Project Settings</li>
            <li>Install XR Interaction Toolkit; collapse Samples and Import Starter Assets and XR Device Simulator</li>
            <li>The Assets folder will now have XRI and Samples folders</li>
            <li>In the Assets navigate to - Samples > XR Interaction Toolkit > 2.0.1 > Starter Assets.  Here you will find all the scripts for VR movement and interaction: XRI Default Continuous Move, XRI Default Continuous Turn, XRI Default Left Controller, XRI Default Right Controller, XRI Default Snap Turn.  In the Inspector for each of these assets <strong>click the button - Add to Action...</strong> these modes of interaction will be added to the projects presets.  The XRI Default Input Actions presents a list of all the possible actions via the VR controllers.</li>
            <li>Go to Edit > Project Settings again and from the left column select Preset Manager where you will see all the presets just added.  The XRI Default Right Controller and XRI Default Left Controller require the addition of typing in right and left under Filter (on the left).</li>
            <!--<li>Go to Window > Package Manager, click the + sign (top left) and choose Add package from git URL and type into the field: com.unity.xr.openxr</li>-->
            <li>Go to Windows > Package Manager > Unity Registry and install Oculus XR Plugin</li>

            <br /><strong>Alternatively one can use the Package Manager</strong><br />

            <li>Install from Package Manager > Unity Registry (with Advanced Project Settings turned on):
              <br />XR Plugin Management
              <br />XR Interaction Toolkit; collapse Samples and Import Starter Assets and XR Device Simulator
              <br />Oculus XR Plugin
            </li>
            <li>Follow the steps above for the Project Settings</li>
          </ul>
        </li>
      </ul>
    </section>

    <section class="fade">
      <h2>Setting up the VR Player in the Scene</h2>
      <ul>
        <li>The Hierarchy will now have XR game objects to introduce to your scene</li>
        <li>To the Hierarchy add XR > XR Origin (Action-based) - will add two game objects - XR Interaction Manager and XR Origin.  (Use Action-based for all VR movement.)</li>
        <li>To XR Interaction Manager add the component "Input Action Manager"</li>
        <li>To the Input Action Manager, collapse Action Assets and add XRI Default Input Actions (the collection and mapping of possible actions)</li>
        <li>XR Origin (previously XR Rig) will have Camera Offset parent to Main Camera (the default Main Camera was deleted), Left Hand Controller and Right Hand Controller.  Make sure that Left and Right Controllers appropriately mapped to left and right hands (if presets were set correctly should be good).</li>
        <li>To the Hierarchy add XR > Locomotion System (Action-based).  In it's Inspector drag XR Origin from Hierarchy to XR Origin field.</li>
        <li>To your ground game object in the Hierarchy whether it's a Plane, Cube or Terrain, add as a component in the ground's Inspector Teleportation Area to define the area that the user may teleport in</li>
        <li>If you wish to use direct movment (instead of teleportation or in addition to teleportation), select the Locomotion System and in its Inspector turn off Teleportation Provider and Snap Turn Provider.  Instead add the Continuous Move Provider (Action-based) and Continuous Turn Provider (Action-based)</li>
        <li>To only enable left hand joystick for motion, in the Continuous Move Provider, uncheck Right Hand Move Action</li>
        <li>To only enable right hand joystick for turning, in the Continuous Turn Provider, uncheck Left Hand Move Action</li>
      </ul>
    </section>

    <section class="fade">
      <h2>Making Game Objects Interactable</h2>
      <ul>
        <li>To pick things up: select the game object and in its Inspector add the component XR Grab Interactable</li>
        <li>In the XR Grab Interactable turn on Smooth Position and Smooth Rotation.</li>
        <li>Also in the XR Grab Interactable try the different Movement Type options - Instantaneous (hand teleports with the movement of the hand), Kinematic (obect slowly moves with the hand), Veloicty Tracking (simply moves with you and most natural appearing movement).</li>
        <li>When the player is turning using the righ hand joystick, the object that is being held will also turn.  To turn this off, in the Hierarchy collapse XR Origin and Camera Offset and select both LeftHand Controller and RightHand Controller and in their Inspector scroll to XR Ray Interactor and uncheck Anchor Control.</li>
      </ul>
    </section>

    <section class="fade">
      <h2>Building Unity Project to Quest</h2>
      <h3>Setting up Oculus and Oculus App</h3>
      <ul>
        <li>Create an Oculus developer account or join an organization on <a href="https://developer.oculus.com/" target="_blank">Oculus for Developers</a>.  This requires Facebook account.</li>
        <li>Download the Oculus app, sign in with your Oculus developer account.</li>
        <li>Have both the Oculus and your phone on the same wifi</li>
        <li>Pair your smart phone with your headset.  Go to Menu (bottom right icon) and select Devices.  As long as Quest is nearby and on same wifi, the app should find it and show Connected.</li>
        <li>In the phone app go to <a href="https://developer.oculus.com/documentation/native/android/mobile-device-setup/" target="_blank">Settings and turn on Developer tools</a> - in the "Devices" window go to Developer Settings and turn on Developer Mode. This will allow you to build directly from Unity to your Oculus Quest when it is tethered via USB</li>
        <li>In the Oculus go to Settings > System > Developer and turn on USB Connection Dialog</li>
        <li>When connect to the computer Allow access to data</li>
        <li>In the Oculus you can find your builds in App Library > Unknown Sources</li>
      </ul>
    </section>

    <section class="fade">
      <h3>Preparing Unity Project for Oculus Build</h3>
      <ul>
        <li>Since we are building to Oculus, go to File > Build Settings; under Platform select Android and click Switch Platform (near bottom right)</li>
        <li>From the top menu go to Edit > Project Settings, make sure that XR Interaction Toolkit, XR Plug-in Management and under XR Plug-in Management, Oculus and OpenXR are installed</li>
        <li>Click on XR Plug-in Management, click on Android tab and select Oculus</li>
        <li>Open the Build Settings, target Android as Oculus is an Android device</li>-->
        <li>Edit > Project Settings, click on Player Settings and in Other Settings set the minimum level to Android 6.0 'Marshmallow' (API level 23)</li>
        <li>In Build Settings, use the following options:<br />
          Texture Compression: Don't override<br />
          ETC2 fallback: 32-bit<br />
          Run Device: Oculus Quest (if Oculus connected via USB)<br />
          Compression Method: LZ4</li>
        <li>Click Build and Run</li>
      </ul>
      <h3>Unfotunately OpenXR Is Building App as 2D Windowed App in Oculus</h3>
      <p>Fix for now:</p>
        <ul>
          <li>Go to - Edit > Project Settings</li>
          <li>Select XR Plug-in Management, click on Android tab and turn off OpenXR and turn on Oculus</li>
          <li>This may not be necessary, but do the same with Windows tab - turn off OpenXR and turn on Oculus</li>
        </ul>
    </section>

    <section class="fade">
      <p>This project will get quickly get you up and running.  However a tutorial that walks you step by step in creating varous forms of interaction is <a href="https://learn.unity.com/project/vr-beginner-the-escape-room" target="_blank">VR Beginner: The Escape Room</a> (this is a Universal Render Pipeline project), using this <a href="https://assetstore.unity.com/packages/templates/tutorials/vr-beginner-the-escape-room-163264" target="_blank">61MB package</a></p>
      <p>There are of course third party VR Interaction Frameworks that may offer more ready-made scripts and interactivity.  One with high ratings and many reviews is <a href="https://assetstore.unity.com/packages/templates/systems/vr-interaction-framework-161066" target="_blank">VR Interaction Framework</a></p>
    </section>

    <section class="fade">
      <h1>Unity for VR</h1>
      <h2>Publishing Your Project</h2>
      <ul>
        <li>Edit > Project Settings</li>
        <li>&nbsp;&nbsp;Company Name is web based with a URL extension i.e. .com, .net, .nyc, .edu...</li>
        <li>&nbsp;&nbsp;Product Name</li>
        <li>&nbsp;&nbsp;Version</li>
        <li>&nbsp;&nbsp;Default Icon</li>
        <li>&nbsp;&nbsp;Icon: 1024x1024, 512x512, 256x256, 128x128, 64x64, 48x48, 32x32, 16x16</li>
        <li>&nbsp;&nbsp;Fullscreen Mode: Maximized Window, allow the user to select windowed vs fullscreen</li>
        <br /><br />
        <li><a href="https://itch.io/" target="_blank">itch.io</a></li>
        <li><a href="https://simmer.io/" target="_blank">simmer.io</a></li>
        <li><a href="https://experiments.withgoogle.com/collection/webvr" target="_blank">Experiments with Google
        </a></li>
        <li><a href="https://newart.city/" target="_blank">New Art City</a> (built on top of <a href="https://threejs.org/" target="_blank">three.js</a>, similar to A-Frame)</li>
      </ul>
    </section>

    <section class="fade">
      <h1>Unity for VR</h1>
      <h2>Moving Forward</h2>
      <ul>
        <li>Unity Resources</li>
        <li><a href="https://learn.unity.com/" target="_blank">Unity Learn</a></li>
        <li><a href="https://circuitstream.com/" target="_blank">Circuit Stream</a>; <a href="https://circuitstream.com/blog/learn-c-for-unity/" target="_blank">Circuie Stream C# for Unity Lessons</a></li>
        <li>&nbsp;&nbsp;Version</li>
        <li>&nbsp;&nbsp;Default Icon</li>
        <li>&nbsp;&nbsp;Icon: 1024x1024, 512x512, 256x256, 128x128, 64x64, 48x48, 32x32, 16x16</li>
        <li>&nbsp;&nbsp;Fullscreen Mode: Maximized Window, allow the user to select windowed vs fullscreen</li>
      </ul>
    </section>


    <a class="prev" onclick="plusSlides(-1)">&#10094;</a>
    <a class="next" onclick="plusSlides(1)">&#10095;</a>

  </div>
  <script src="slideshow.js"></script>
  </body>
</html>
